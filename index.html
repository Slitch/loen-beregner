<!DOCTYPE html>
<html> 
<head>
    <meta charset=utf-8 />
    <title>Løn beregner - prototype</title>
    <style type="text/css">
        html {background-color: #00ccff;}
        body {margin: 30px;}
    </style> 
</head>
<body>
    <form>
        Bruttoløn :     <input type="text" id="bruttoloen" />DKK.<br>
        Fradrag :       <input type="text" id="fradrag" />DKK.<br>
        AM bidrag :     <input type="text" id="am_bidrag_procent" value="8" />%.<br>
        AM pension :    <input type="text" id="am_pension_procent" value="4" />%.<br>
        ATP pension :   <input type="text" id="atp_pension" value="90" />DKK.<br>
        Trækprocent :   <input type="text" id="traekprocent" value="37" />%.<br>
        <br>
        1st Number :    <input type="text" id="firstNumber" /><br>
        2nd Number:     <input type="text" id="secondNumber" /><br>
        <input type="button" onClick="loen_beregn()" Value="Beregn løn til udbetaling" />
    </form>
    <p>The Result is : <br>
    <span id = "result"></span>
    <span id = "loen_result"></span>
    </p>

    <script>
    // ===== FUNKTION ===== 
    function loen_beregn()
    {
        // SET VARIABLER FOR HVERT INPUT 
        // INFO: pro = procent
        var bruttoloen, fradrag, am_bidrag_pro, am_pension_pro, atp_pension, traekprocent;
        
        bruttoloen = document.getElementById("bruttoloen").value;
        fradrag = document.getElementById("fradrag").value;
        am_bidrag_pro = document.getElementById("am_bidrag_procent").value;
        am_pension_pro = document.getElementById("am_pension_procent").value;
        atp_pension = document.getElementById("atp_pension").value;
        traekprocent = document.getElementById("traekprocent").value;

        // ===== MELLEM REGNING ===== 
        // INFO: res = resultat
        
        // Klargøring a variabler til mellemregning
        var am_pension_res, am_bidrag_res, nettoloen, a_indkomst, skatte_grundlag, betal_til_skat, loen_til_udbetaling, resultat;
        
        // Variabler beregnes
        am_pension_res = (bruttoloen / 100) * am_pension_pro;
        am_bidrag_res = (((bruttoloen - atp_pension) - am_pension_res) / 100) * am_bidrag_pro;
        nettoloen = ((bruttoloen - atp_pension) - am_pension_res) - am_bidrag_res;
        a_indkomst = nettoloen;
        skatte_grundlag = a_indkomst - fradrag;
        betal_til_skat = (skatte_grundlag / 100) * traekprocent;
        loen_til_udbetaling = nettoloen - betal_til_skat;
        resultat = Math.floor(loen_til_udbetaling)
        
        // Indsæt resultat i ID
        document.getElementById("loen_result").innerHTML = resultat;   
    }
</script>
</body>
</html>

